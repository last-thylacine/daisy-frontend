import{c as a,C as b,a as i,d as x,t as o,e as M,S as p,R as $,s as _,i as d,b as c,f as R,o as q,g as N,h as j,j as T,k as U,m as G,F as Z,l as F}from"./index-Cl3_GpV8.js";import{a as f,f as J,d as K}from"./app-B0NRSms2.js";import{c as V}from"./chevron_right_24-DzArCaY4.js";const W="/daisy-frontend/assets/energy_19.02x24-BJ5CZXmv.png",X="_chip_10qn9_1",Y={chip:X},k=r=>a(b,{get class(){return Y.chip},get children(){return r.children}}),O="_bar_d1p4m_6",Q="_progress_d1p4m_6",ee="_blue_d1p4m_15",te="_yellow_d1p4m_18",w={bar:O,progress:Q,blue:ee,yellow:te};var re=o("<div><div>");const B=r=>{const t=()=>{const e=r.max-r.min,n=r.value-r.min;return Math.floor(n/e)};return(()=>{var e=re(),n=e.firstChild;return i(s=>{var l={[w.bar]:!0,[w[r.variant]]:!0},u=`${t()}%`,g={[w.progress]:!0,[w[r.variant]]:!0};return s.e=x(e,l,s.e),u!==s.t&&((s.t=u)!=null?n.style.setProperty("width",u):n.style.removeProperty("width")),s.a=x(n,g,s.a),s},{e:void 0,t:void 0,a:void 0}),e})()},ne="_container_wuddg_6",ae="_row_wuddg_15",se="_energy_wuddg_21",le="_username_wuddg_21",oe="_avatar_wuddg_31",m={container:ne,row:ae,energy:se,username:le,avatar:oe};var ce=o("<img draggable=false width=19.02 height=24>"),ie=o("<div>/"),I=o("<div>");const de=()=>{const{store:r}=f,t=()=>r.energy!==null&&r.max_energy!==null;return M(()=>{console.log({loaded:t()})}),a($,{get class(){return m.container},get children(){return[a(k,{get children(){return a(p,{get when(){return t()},get children(){return[a($,{get class(){return m.row},get children(){return[(()=>{var e=ce();return _(e,"src",W),e})(),(()=>{var e=ie(),n=e.firstChild;return d(e,()=>r.energy,n),d(e,()=>r.max_energy,null),i(()=>c(e,m.energy)),e})()]}}),a(B,{min:0,get value(){return r.energy},get max(){return r.max_energy},variant:"blue"})]}})}}),a(k,{get children(){return a(p,{get when(){return t()},get children(){return[a($,{get class(){return m.row},get children(){return[(()=>{var e=I();return d(e,()=>{var n;return(n=r.initData.user)==null?void 0:n.username}),i(()=>c(e,m.username)),e})(),(()=>{var e=I();return i(()=>c(e,m.avatar)),e})()]}}),a(B,{min:1,value:1,max:12,variant:"yellow"})]}})}})]}})};function ue(r,{ease:t=n=>n,duration:e=100}){const[n,s]=R(r());let l,u,g,v;function C(H){const y=H-l;y<e?(s(u+t(y/e)*g),v=requestAnimationFrame(C)):s(r())}return M(q(r,()=>{l=performance.now(),u=n(),g=r()-u,v=requestAnimationFrame(C),N(()=>cancelAnimationFrame(v))},{defer:!0})),n}const _e=()=>{const{store:r}=f,t=ue(()=>r.coins||0,{duration:250}),e=()=>Math.round(t());return{formattedCoinBalance:()=>J(e()),coinBalanceFontSize:()=>`${56-2*Math.log10(r.coins||1)}px`}},ge="/daisy-frontend/assets/dz_64x64_3x-DKj55EYD.png",ve="_container_1ynp8_6",me="_text_1ynp8_10",L={container:ve,text:me};var he=o("<img draggable=false width=64 height=64>"),$e=o("<div>");const we=()=>{const{formattedCoinBalance:r,coinBalanceFontSize:t}=_e();return a($,{get class(){return L.container},get children(){return[(()=>{var e=he();return _(e,"src",ge),e})(),(()=>{var e=$e();return d(e,r),i(n=>{var s=L.text,l=t();return s!==n.e&&c(e,n.e=s),l!==n.t&&((n.t=l)!=null?e.style.setProperty("font-size",l):e.style.removeProperty("font-size")),n},{e:void 0,t:void 0}),e})()]}})},fe="data:image/svg+xml,%3csvg%20width='280'%20height='281'%20viewBox='0%200%20280%20281'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M171.411%20213.83C194.798%20295.994%20125.002%20306.287%20129.41%20218.549C108.104%20304.082%2041.9824%20273.201%2091.941%20201.829C30.2274%20265.113%20-14.5887%20209.234%2068.2457%20169.653C-22.6703%20189.381%20-21.2009%20121.004%2063.4161%20128.355C-23.405%20104.093%202.30917%2044.5373%2079.0779%2091.5925C19.9417%2025.4207%2067.8202%20-8.21643%20111.043%2066.5939C89.7372%20-22.3707%20156.594%20-20.1658%20151.451%2061.2743C174.227%20-17.9601%20235.94%201.15741%20189.917%2076.8875C246.961%2017.333%20291.042%2068.8007%20215.554%20110.586C298.389%2087.182%20302.797%20154.09%20220.491%20151.148C302.797%20169.653%20275.614%20234.968%20204.149%20189.381C260.92%20250.408%20215.554%20287.906%20171.411%20213.83Z'%20fill='white'/%3e%3ccircle%20cx='140.787'%20cy='140.803'%20r='28.3146'%20fill='%23FFD600'/%3e%3c/svg%3e";var be=o("<img draggable=false width=280 height=280>");const Ce=()=>{const{tap:r}=f;return(()=>{var t=be();return T(t,"click",r,!0),_(t,"src",fe),t})()};j(["click"]);const ye="/daisy-frontend/assets/farm_48x46.76_3x-PHbG5kdH.png",xe="/daisy-frontend/assets/farm_82.13x80_3x-DUl_NfRy.png",pe="_overlay_10jce_1",Fe="_drawer_10jce_16",P={overlay:pe,drawer:Fe};var ke=o("<div>");const Be=r=>{const[t,e]=U(r,["children","onClose","class","classList"]);return(()=>{var n=ke();return n.$$click=()=>t.onClose(),d(n,a(b,G(e,{onClick:s=>s.stopPropagation(),get classList(){return{[P.drawer]:!0,...t.class?{[t.class]:!0}:{},...t.classList??{}}},get children(){return t.children}}))),i(()=>c(n,P.overlay)),n})()};j(["click"]);const Ie="_container_1a46d_6",Le="_textContainer_1a46d_18",Pe="_title_1a46d_23",ze="_subtitle_1a46d_33",De="_chevronLabel_1a46d_42",h={container:Ie,textContainer:Le,title:Pe,subtitle:ze,chevronLabel:De};var Se=o("<img draggable=false>"),Ae=o("<div><div></div><div> lvl"),z=o("<img draggable=false width=24 height=24>"),Ee=o("<div>");const Me=r=>a($,{get class(){return h.container},get children(){return[(()=>{var t=Se();return i(e=>{var n=r.iconWidth,s=r.iconHeight,l=r.icon;return n!==e.e&&_(t,"width",e.e=n),s!==e.t&&_(t,"height",e.t=s),l!==e.a&&_(t,"src",e.a=l),e},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=Ae(),e=t.firstChild,n=e.nextSibling,s=n.firstChild;return d(e,()=>r.name),d(n,()=>r.level,s),i(l=>{var u=h.textContainer,g=h.title,v=h.subtitle;return u!==l.e&&c(t,l.e=u),g!==l.t&&c(e,l.t=g),v!==l.a&&c(n,l.a=v),l},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=z();return _(t,"src",K),t})(),(()=>{var t=Ee();return d(t,()=>r.cost),i(()=>c(t,h.chevronLabel)),t})(),(()=>{var t=z();return _(t,"src",V),t})()]}}),Re="_title_petuw_1",je="_subtitle_petuw_11",D={title:Re,subtitle:je};var He=o("<img draggable=false width=82.13 height=80>"),S=o("<div>");const A={title:"Farm",subtitle:"How a farm works"},qe=r=>{const{store:t}=f;return a(Be,{get onClose(){return r.onClose},get children(){return[(()=>{var e=He();return _(e,"src",xe),e})(),(()=>{var e=S();return d(e,()=>A.title),i(()=>c(e,D.title)),e})(),(()=>{var e=S();return d(e,()=>A.subtitle),i(()=>c(e,D.subtitle)),e})(),a(Z,{get each(){return t.upgrades},children:e=>a(Me,e)})]}})},Ne="_button_1mo88_1",Te="_label_1mo88_11",E={button:Ne,label:Te};var Ue=o("<img draggable=false width=48 height=46.76>"),Ge=o("<div>");const Ze={label:"Farm"},Je=()=>{const[r,t]=R(!1);return[a(b,{get class(){return E.button},onClick:()=>t(!0),get children(){return[(()=>{var e=Ue();return _(e,"src",ye),e})(),(()=>{var e=Ge();return d(e,()=>Ze.label),i(()=>c(e,E.label)),e})()]}}),F(()=>F(()=>!!r())()&&a(qe,{onClose:()=>t(!1)}))]},Xe=()=>[a(de,{}),a(we,{}),a(Ce,{}),a(Je,{})];export{Xe as default};
