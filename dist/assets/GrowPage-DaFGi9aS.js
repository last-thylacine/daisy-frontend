import{c as a,C as w,a as i,b as c,t as o,S as y,R as $,s as u,i as d,d as E,e as H,o as M,f as q,g as R,h as N,j as T,m as U,F as G,k as p}from"./index-CPc3hls7.js";import{a as f,f as Z,d as J}from"./app-DE5qgBTk.js";import{c as K}from"./chevron_right_24-DzArCaY4.js";const V="/daisy-frontend/assets/energy_19.02x24-BJ5CZXmv.png",W="_chip_10qn9_1",X={chip:W},x=r=>a(w,{get class(){return X.chip},get children(){return r.children}}),Y="_bar_8luxw_6",O="_progress_8luxw_13",F={bar:Y,progress:O};var Q=o("<div><div>");const k=()=>(()=>{var r=Q(),t=r.firstChild;return i(e=>{var n=F.bar,l=F.progress;return n!==e.e&&c(r,e.e=n),l!==e.t&&c(t,e.t=l),e},{e:void 0,t:void 0}),r})(),ee="_container_wuddg_6",te="_row_wuddg_15",re="_energy_wuddg_21",ne="_username_wuddg_21",ae="_avatar_wuddg_31",v={container:ee,row:te,energy:re,username:ne,avatar:ae};var se=o("<img draggable=false width=19.02 height=24>"),le=o("<div>/"),B=o("<div>");const oe=()=>{const{store:r}=f,t=r.energy!==null&&r.max_energy!==null;return a($,{get class(){return v.container},get children(){return[a(x,{get children(){return a(y,{when:t,get children(){return[a($,{get class(){return v.row},get children(){return[(()=>{var e=se();return u(e,"src",V),e})(),(()=>{var e=le(),n=e.firstChild;return d(e,()=>r.energy,n),d(e,()=>r.max_energy,null),i(()=>c(e,v.energy)),e})()]}}),a(k,{start:0,get value(){return r.energy},get end(){return r.max_energy},variant:"blue"})]}})}}),a(x,{get children(){return a(y,{when:t,get children(){return[a($,{get class(){return v.row},get children(){return[(()=>{var e=B();return d(e,()=>{var n;return(n=r.initData.user)==null?void 0:n.username}),i(()=>c(e,v.username)),e})(),(()=>{var e=B();return i(()=>c(e,v.avatar)),e})()]}}),a(k,{start:1,value:1,end:12,variant:"yellow"})]}})}})]}})};function ce(r,{ease:t=n=>n,duration:e=100}){const[n,l]=E(r());let s,_,m,g;function C(j){const b=j-s;b<e?(l(_+t(b/e)*m),g=requestAnimationFrame(C)):l(r())}return H(M(r,()=>{s=performance.now(),_=n(),m=r()-_,g=requestAnimationFrame(C),q(()=>cancelAnimationFrame(g))},{defer:!0})),n}const ie=()=>{const{store:r}=f,t=ce(()=>r.coins||0,{duration:250}),e=()=>Math.round(t());return{formattedCoinBalance:()=>Z(e()),coinBalanceFontSize:()=>`${56-2*Math.log10(r.coins||1)}px`}},de="/daisy-frontend/assets/dz_64x64_3x-DKj55EYD.png",ue="_container_1ynp8_6",_e="_text_1ynp8_10",I={container:ue,text:_e};var ge=o("<img draggable=false width=64 height=64>"),ve=o("<div>");const me=()=>{const{formattedCoinBalance:r,coinBalanceFontSize:t}=ie();return a($,{get class(){return I.container},get children(){return[(()=>{var e=ge();return u(e,"src",de),e})(),(()=>{var e=ve();return d(e,r),i(n=>{var l=I.text,s=t();return l!==n.e&&c(e,n.e=l),s!==n.t&&((n.t=s)!=null?e.style.setProperty("font-size",s):e.style.removeProperty("font-size")),n},{e:void 0,t:void 0}),e})()]}})},he="data:image/svg+xml,%3csvg%20width='280'%20height='281'%20viewBox='0%200%20280%20281'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M171.411%20213.83C194.798%20295.994%20125.002%20306.287%20129.41%20218.549C108.104%20304.082%2041.9824%20273.201%2091.941%20201.829C30.2274%20265.113%20-14.5887%20209.234%2068.2457%20169.653C-22.6703%20189.381%20-21.2009%20121.004%2063.4161%20128.355C-23.405%20104.093%202.30917%2044.5373%2079.0779%2091.5925C19.9417%2025.4207%2067.8202%20-8.21643%20111.043%2066.5939C89.7372%20-22.3707%20156.594%20-20.1658%20151.451%2061.2743C174.227%20-17.9601%20235.94%201.15741%20189.917%2076.8875C246.961%2017.333%20291.042%2068.8007%20215.554%20110.586C298.389%2087.182%20302.797%20154.09%20220.491%20151.148C302.797%20169.653%20275.614%20234.968%20204.149%20189.381C260.92%20250.408%20215.554%20287.906%20171.411%20213.83Z'%20fill='white'/%3e%3ccircle%20cx='140.787'%20cy='140.803'%20r='28.3146'%20fill='%23FFD600'/%3e%3c/svg%3e";var $e=o("<img draggable=false width=280 height=280>");const fe=()=>{const{tap:r}=f;return(()=>{var t=$e();return N(t,"click",r,!0),u(t,"src",he),t})()};R(["click"]);const we="/daisy-frontend/assets/farm_48x46.76_3x-PHbG5kdH.png",Ce="/daisy-frontend/assets/farm_82.13x80_3x-DUl_NfRy.png",be="_overlay_10jce_1",ye="_drawer_10jce_16",L={overlay:be,drawer:ye};var pe=o("<div>");const xe=r=>{const[t,e]=T(r,["children","onClose","class","classList"]);return(()=>{var n=pe();return n.$$click=()=>t.onClose(),d(n,a(w,U(e,{onClick:l=>l.stopPropagation(),get classList(){return{[L.drawer]:!0,...t.class?{[t.class]:!0}:{},...t.classList??{}}},get children(){return t.children}}))),i(()=>c(n,L.overlay)),n})()};R(["click"]);const Fe="_container_1a46d_6",ke="_textContainer_1a46d_18",Be="_title_1a46d_23",Ie="_subtitle_1a46d_33",Le="_chevronLabel_1a46d_42",h={container:Fe,textContainer:ke,title:Be,subtitle:Ie,chevronLabel:Le};var ze=o("<img draggable=false>"),De=o("<div><div></div><div> lvl"),z=o("<img draggable=false width=24 height=24>"),Pe=o("<div>");const Se=r=>a($,{get class(){return h.container},get children(){return[(()=>{var t=ze();return i(e=>{var n=r.iconWidth,l=r.iconHeight,s=r.icon;return n!==e.e&&u(t,"width",e.e=n),l!==e.t&&u(t,"height",e.t=l),s!==e.a&&u(t,"src",e.a=s),e},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=De(),e=t.firstChild,n=e.nextSibling,l=n.firstChild;return d(e,()=>r.name),d(n,()=>r.level,l),i(s=>{var _=h.textContainer,m=h.title,g=h.subtitle;return _!==s.e&&c(t,s.e=_),m!==s.t&&c(e,s.t=m),g!==s.a&&c(n,s.a=g),s},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=z();return u(t,"src",J),t})(),(()=>{var t=Pe();return d(t,()=>r.cost),i(()=>c(t,h.chevronLabel)),t})(),(()=>{var t=z();return u(t,"src",K),t})()]}}),Ae="_title_petuw_1",Ee="_subtitle_petuw_11",D={title:Ae,subtitle:Ee};var Re=o("<img draggable=false width=82.13 height=80>"),P=o("<div>");const S={title:"Farm",subtitle:"How a farm works"},je=r=>{const{store:t}=f;return a(xe,{get onClose(){return r.onClose},get children(){return[(()=>{var e=Re();return u(e,"src",Ce),e})(),(()=>{var e=P();return d(e,()=>S.title),i(()=>c(e,D.title)),e})(),(()=>{var e=P();return d(e,()=>S.subtitle),i(()=>c(e,D.subtitle)),e})(),a(G,{get each(){return t.upgrades},children:e=>a(Se,e)})]}})},He="_button_1mo88_1",Me="_label_1mo88_11",A={button:He,label:Me};var qe=o("<img draggable=false width=48 height=46.76>"),Ne=o("<div>");const Te={label:"Farm"},Ue=()=>{const[r,t]=E(!1);return[a(w,{get class(){return A.button},onClick:()=>t(!0),get children(){return[(()=>{var e=qe();return u(e,"src",we),e})(),(()=>{var e=Ne();return d(e,()=>Te.label),i(()=>c(e,A.label)),e})()]}}),p(()=>p(()=>!!r())()&&a(je,{onClose:()=>t(!1)}))]},Ke=()=>[a(oe,{}),a(me,{}),a(fe,{}),a(Ue,{})];export{Ke as default};
