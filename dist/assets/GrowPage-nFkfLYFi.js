import{c as l,C as B,a as i,d as P,t as c,S as L,R as $,s as g,i as u,b as d,e as G,f as Y,o as j,g as W,h as X,j as J,m as K,k as V,u as z,F as O,l as k}from"./index-DO2r-6gs.js";import{a as p,f as Q,d as ee}from"./app-BiB1hgts.js";import{c as te}from"./chevron_right_24-DzArCaY4.js";const re="/daisy-frontend/assets/energy_19.02x24-BJ5CZXmv.png",ne="_chip_10qn9_1",ae={chip:ne},q=n=>l(B,{get class(){return ae.chip},get children(){return n.children}}),se="_bar_d1p4m_6",oe="_progress_d1p4m_6",le="_blue_d1p4m_15",ie="_yellow_d1p4m_18",x={bar:se,progress:oe,blue:le,yellow:ie};var ce=c("<div><div>");const M=n=>{const a=()=>{const t=n.max-n.min,s=n.value-n.min;return Math.floor(s/t)};return(()=>{var t=ce(),s=t.firstChild;return i(r=>{var e={[x.bar]:!0,[x[n.variant]]:!0},o=`${a()}%`,v={[x.progress]:!0,[x[n.variant]]:!0};return r.e=P(t,e,r.e),o!==r.t&&((r.t=o)!=null?s.style.setProperty("width",o):s.style.removeProperty("width")),r.a=P(s,v,r.a),r},{e:void 0,t:void 0,a:void 0}),t})()},de="_container_1xmqi_6",ue="_row_1xmqi_15",_e="_energy_1xmqi_21",ge="_username_1xmqi_21",ve="_avatar_1xmqi_31",h={container:de,row:ue,energy:_e,username:ge,avatar:ve};var me=c("<img draggable=false width=19.02 height=24>"),he=c("<div>/"),E=c("<div>");const fe=()=>{const{store:n}=p,a=()=>n.energy!==null&&n.max_energy!==null;return l($,{get class(){return h.container},get children(){return[l(q,{get children(){return l(L,{get when(){return a()},get children(){return[l($,{get class(){return h.row},get children(){return[(()=>{var t=me();return g(t,"src",re),t})(),(()=>{var t=he(),s=t.firstChild;return u(t,()=>n.energy,s),u(t,()=>n.max_energy,null),i(()=>d(t,h.energy)),t})()]}}),l(M,{min:0,get value(){return n.energy},get max(){return n.max_energy},variant:"blue"})]}})}}),l(q,{get children(){return l(L,{get when(){return a()},get children(){return[l($,{get class(){return h.row},get children(){return[(()=>{var t=E();return u(t,()=>{var s;return(s=n.initData.user)==null?void 0:s.username}),i(()=>d(t,h.username)),t})(),(()=>{var t=E();return i(()=>d(t,h.avatar)),t})()]}}),l(M,{min:1,value:1,max:12,variant:"yellow"})]}})}})]}})};function $e(n,{ease:a=s=>s,duration:t=100}){const[s,r]=G(n());let e,o,v,m;function _(y){const w=y-e;w<t?(r(o+a(w/t)*v),m=requestAnimationFrame(_)):r(n())}return Y(j(n,()=>{e=performance.now(),o=s(),v=n()-o,m=requestAnimationFrame(_),W(()=>cancelAnimationFrame(m))},{defer:!0})),s}const pe=()=>{const{store:n}=p,a=$e(()=>n.coins||0,{duration:250}),t=()=>Math.round(a());return{formattedCoinBalance:()=>Q(t()),coinBalanceFontSize:()=>`${56-2*Math.log10(n.coins||1)}px`}},we="/daisy-frontend/assets/dz_64x64_3x-DKj55EYD.png",be="_container_11uui_6",Ce="_text_11uui_14",S={container:be,text:Ce};var ye=c("<img draggable=false width=64 height=64>"),xe=c("<div>");const Le=()=>{const{formattedCoinBalance:n,coinBalanceFontSize:a}=pe();return l($,{get class(){return S.container},get children(){return[(()=>{var t=ye();return g(t,"src",we),t})(),(()=>{var t=xe();return u(t,n),i(s=>{var r=S.text,e=a();return r!==s.e&&d(t,s.e=r),e!==s.t&&((s.t=e)!=null?t.style.setProperty("font-size",e):t.style.removeProperty("font-size")),s},{e:void 0,t:void 0}),t})()]}})},ze="data:image/svg+xml,%3csvg%20width='280'%20height='281'%20viewBox='0%200%20280%20281'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M171.411%20213.83C194.798%20295.994%20125.002%20306.287%20129.41%20218.549C108.104%20304.082%2041.9824%20273.201%2091.941%20201.829C30.2274%20265.113%20-14.5887%20209.234%2068.2457%20169.653C-22.6703%20189.381%20-21.2009%20121.004%2063.4161%20128.355C-23.405%20104.093%202.30917%2044.5373%2079.0779%2091.5925C19.9417%2025.4207%2067.8202%20-8.21643%20111.043%2066.5939C89.7372%20-22.3707%20156.594%20-20.1658%20151.451%2061.2743C174.227%20-17.9601%20235.94%201.15741%20189.917%2076.8875C246.961%2017.333%20291.042%2068.8007%20215.554%20110.586C298.389%2087.182%20302.797%20154.09%20220.491%20151.148C302.797%20169.653%20275.614%20234.968%20204.149%20189.381C260.92%20250.408%20215.554%20287.906%20171.411%20213.83Z'%20fill='white'/%3e%3ccircle%20cx='140.787'%20cy='140.803'%20r='28.3146'%20fill='%23FFD600'/%3e%3c/svg%3e",Ie="_daisy_14p8a_6",Fe="_particle_14p8a_19",F={daisy:Ie,particle:Fe,"float-and-fade":"_float-and-fade_14p8a_1","particle-text":"_particle-text_14p8a_26"};var Be=c("<img draggable=false width=280 height=280>");const U=(n,a,t)=>{const s=document.createElement("div");s.classList.add(F["particle-text"]),s.textContent=`+${t}`;const r=document.createElement("div");r.classList.add(F.particle),r.style.position="absolute",r.style.left=`${n}px`,r.style.top=`${a}px`,r.addEventListener("animationend",r.remove),r.appendChild(s),document.body.appendChild(r)},De=()=>{const{store:n,tap:a}=p,t=r=>{n.coins_per_tap&&(U(r.clientX,r.clientY,n.coins_per_tap),a())},s=r=>{if(r.preventDefault(),n.coins_per_tap){for(const e of r.changedTouches)U(e.clientX,e.clientY,n.coins_per_tap);a()}};return(()=>{var r=Be();return r.$$touchend=s,r.$$mouseup=t,g(r,"src",ze),i(()=>d(r,F.daisy)),r})()};X(["mouseup","touchend"]);const Pe="/daisy-frontend/assets/farm_48x46.76_3x-PHbG5kdH.png",ke="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_33_9114)'%3e%3cpath%20d='M14%2028C21.6589%2028%2028%2021.6451%2028%2014C28%206.34117%2021.6451%200%2013.9863%200C6.34117%200%200%206.34117%200%2014C0%2021.6451%206.35489%2028%2014%2028Z'%20fill='black'%20fill-opacity='0.04'/%3e%3cpath%20opacity='0.5'%20d='M9.17282%2020C8.51489%2020%208%2019.4702%208%2018.8115C8%2018.4964%208.11441%2018.1957%208.34326%2017.9808L12.3051%2014L8.34326%2010.0334C8.11441%209.8043%208%209.51789%208%209.20286C8%208.52982%208.51489%208.02864%209.17282%208.02864C9.50178%208.02864%209.75923%208.14319%209.98807%208.35799L13.9785%2012.3389L17.9976%208.34367C18.2407%208.10024%2018.4982%208%2018.8128%208C19.4707%208%2020%208.51551%2020%209.17422C20%209.50358%2019.8998%209.76133%2019.6423%2010.0191L15.6663%2014L19.6281%2017.9666C19.8713%2018.1814%2019.9856%2018.482%2019.9856%2018.8115C19.9856%2019.4702%2019.4565%2020%2018.7842%2020C18.4553%2020%2018.1549%2019.8855%2017.9403%2019.6563L13.9785%2015.6754L10.031%2019.6563C9.80214%2019.8855%209.50178%2020%209.17282%2020Z'%20fill='black'%20fill-opacity='0.8'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_33_9114'%3e%3crect%20width='28'%20height='28'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",qe="_overlay_1w6sy_1",Me="_drawer_1w6sy_16",Ee="_closeIcon_1w6sy_23",I={overlay:qe,drawer:Me,closeIcon:Ee};var Se=c("<img draggable=false width=28 height=28>"),Ue=c("<div>");const Z=n=>{const[a,t]=J(n,["children","onClose","class","classList"]);return(()=>{var s=Ue();return s.$$click=()=>a.onClose(),u(s,l(B,K(t,{onClick:r=>r.stopPropagation(),get classList(){return{[I.drawer]:!0,...a.class?{[a.class]:!0}:{},...a.classList??{}}},get children(){return[(()=>{var r=Se();return r.$$click=()=>a.onClose(),g(r,"src",ke),i(()=>d(r,I.closeIcon)),r})(),V(()=>a.children)]}}))),i(()=>d(s,I.overlay)),s})()};X(["click"]);const He="/daisy-frontend/assets/farm_82.13x80_3x-DUl_NfRy.png",Re="_container_1a46d_6",Te="_textContainer_1a46d_18",Ae="_title_1a46d_23",Ne="_subtitle_1a46d_33",Xe="_chevronLabel_1a46d_42",b={container:Re,textContainer:Te,title:Ae,subtitle:Ne,chevronLabel:Xe};var Ze=c("<img draggable=false>"),Ge=c("<div><div></div><div> lvl"),H=c("<img draggable=false width=24 height=24>"),Ye=c("<div>");const je=n=>{const{store:a}=p,t=()=>a.upgrades.find(({id:e})=>e===n.id),s=()=>{if(n.id==="multi_flower")return a.multi_flower;if(n.id==="water_power")return a.water_power},r=z();return l($,{get class(){return b.container},onClick:()=>r(`/grow/farm/${t().id}`),get children(){return[(()=>{var e=Ze();return i(o=>{var v=t().iconWidth,m=t().iconHeight,_=t().icon;return v!==o.e&&g(e,"width",o.e=v),m!==o.t&&g(e,"height",o.t=m),_!==o.a&&g(e,"src",o.a=_),o},{e:void 0,t:void 0,a:void 0}),e})(),(()=>{var e=Ge(),o=e.firstChild,v=o.nextSibling,m=v.firstChild;return u(o,()=>t().title),u(v,s,m),i(_=>{var y=b.textContainer,w=b.title,D=b.subtitle;return y!==_.e&&d(e,_.e=y),w!==_.t&&d(o,_.t=w),D!==_.a&&d(v,_.a=D),_},{e:void 0,t:void 0,a:void 0}),e})(),(()=>{var e=H();return g(e,"src",ee),e})(),(()=>{var e=Ye();return u(e,()=>t().cost(s())),i(()=>d(e,b.chevronLabel)),e})(),(()=>{var e=H();return g(e,"src",te),e})()]}})},We="_title_luqgg_6",Je="_subtitle_luqgg_16",R={title:We,subtitle:Je};var Ke=c("<img draggable=false width=82.13 height=80>"),T=c("<div>");const A={title:"Farm",subtitle:"How a farm works"},Ve=()=>{const{store:n}=p;return[(()=>{var a=Ke();return g(a,"src",He),a})(),(()=>{var a=T();return u(a,()=>A.title),i(()=>d(a,R.title)),a})(),(()=>{var a=T();return u(a,()=>A.subtitle),i(()=>d(a,R.subtitle)),a})(),l(O,{get each(){return n.upgrades},children:a=>l(je,{get id(){return a.id}})})]},Oe=()=>{const n=z();return l(Z,{onClose:()=>n("/grow"),get children(){return l(Ve,{})}})},Qe="/daisy-frontend/assets/dz_32x32_3x-CfX2yuM1.png",et="_foo_9yzab_6",tt="_title_9yzab_11",rt="_description_9yzab_21",nt="_effect_9yzab_31",at="_cost_9yzab_41",st="_level_9yzab_51",ot="_button_9yzab_61",f={foo:et,title:tt,description:rt,effect:nt,cost:at,level:st,button:ot};var lt=c("<img draggable=false>"),C=c("<div>"),it=c("<img draggable=false width=40 height=40>"),ct=c("<div> lvl");const dt={submit:"Go ahead"},ut=n=>{const{store:a}=p,t=()=>a.upgrades.find(({id:e})=>e===n.id),s=z(),r=()=>{if(n.id==="multi_flower")return a.multi_flower;if(n.id==="water_power")return a.water_power};return l(Z,{onClose:()=>s("/grow/farm/"),get children(){return[(()=>{var e=lt();return i(o=>{var v=t().imageWidth,m=t().imageHeight,_=t().image;return v!==o.e&&g(e,"width",o.e=v),m!==o.t&&g(e,"height",o.t=m),_!==o.a&&g(e,"src",o.a=_),o},{e:void 0,t:void 0,a:void 0}),e})(),(()=>{var e=C();return u(e,()=>t().title),i(()=>d(e,f.title)),e})(),(()=>{var e=C();return u(e,()=>t().description),i(()=>d(e,f.description)),e})(),(()=>{var e=C();return u(e,()=>t().effect.replace("{{level}}",String(r()))),i(()=>d(e,f.effect)),e})(),l($,{get children(){return[(()=>{var e=it();return g(e,"src",Qe),e})(),(()=>{var e=C();return u(e,()=>t().cost(r())),i(()=>d(e,f.cost)),e})(),(()=>{var e=ct(),o=e.firstChild;return u(e,()=>r()+1,o),i(()=>d(e,f.level)),e})()]}}),(()=>{var e=C();return u(e,()=>dt.submit),i(()=>d(e,f.button)),e})()]}})},_t="_button_1mduq_1",gt="_label_1mduq_11",N={button:_t,label:gt};var vt=c("<img draggable=false width=48 height=46.76>"),mt=c("<div>");const ht={label:"Farm"},ft=()=>{const n=z(),a=()=>n("/grow/farm"),t=k(()=>"/daisy-frontend/grow/farm"),s=k(()=>"/daisy-frontend/grow/farm/:upgrade");return[l(B,{get class(){return N.button},onClick:a,get children(){return[(()=>{var r=vt();return g(r,"src",Pe),r})(),(()=>{var r=mt();return u(r,()=>ht.label),i(()=>d(r,N.label)),r})()]}}),l(L,{get when(){return!!t()},get children(){return l(Oe,{})}}),l(L,{get when(){return!!s()},get children(){return l(ut,{get id(){return s().params.upgrade}})}})]},bt=()=>[l(fe,{}),l(Le,{}),l(De,{}),l(ft,{})];export{bt as default};
