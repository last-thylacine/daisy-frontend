import{c as o,C as B,a as l,d as D,t as c,S as b,R as w,s as g,i as _,b as u,e as X,f as Y,o as j,g as G,h as N,j as W,m as J,k as K,u as x,F as V,l as P}from"./index-0MYGvweO.js";import{a as h,f as O,d as Q}from"./app-D7zN6IIY.js";import{c as ee}from"./chevron_right_24-DzArCaY4.js";const te="/daisy-frontend/assets/energy_19.02x24-BJ5CZXmv.png",re="_chip_10qn9_1",ne={chip:re},M=r=>o(B,{get class(){return ne.chip},get children(){return r.children}}),ae="_bar_d1p4m_6",se="_progress_d1p4m_6",oe="_blue_d1p4m_15",ce="_yellow_d1p4m_18",y={bar:ae,progress:se,blue:oe,yellow:ce};var le=c("<div><div>");const z=r=>{const n=()=>{const t=r.max-r.min,a=r.value-r.min;return Math.floor(a/t)};return(()=>{var t=le(),a=t.firstChild;return l(e=>{var s={[y.bar]:!0,[y[r.variant]]:!0},i=`${n()}%`,v={[y.progress]:!0,[y[r.variant]]:!0};return e.e=D(t,s,e.e),i!==e.t&&((e.t=i)!=null?a.style.setProperty("width",i):a.style.removeProperty("width")),e.a=D(a,v,e.a),e},{e:void 0,t:void 0,a:void 0}),t})()},ie="_container_wuddg_6",de="_row_wuddg_15",ue="_energy_wuddg_21",ge="_username_wuddg_21",_e="_avatar_wuddg_31",m={container:ie,row:de,energy:ue,username:ge,avatar:_e};var ve=c("<img draggable=false width=19.02 height=24>"),me=c("<div>/"),E=c("<div>");const he=()=>{const{store:r}=h,n=()=>r.energy!==null&&r.max_energy!==null;return o(w,{get class(){return m.container},get children(){return[o(M,{get children(){return o(b,{get when(){return n()},get children(){return[o(w,{get class(){return m.row},get children(){return[(()=>{var t=ve();return g(t,"src",te),t})(),(()=>{var t=me(),a=t.firstChild;return _(t,()=>r.energy,a),_(t,()=>r.max_energy,null),l(()=>u(t,m.energy)),t})()]}}),o(z,{min:0,get value(){return r.energy},get max(){return r.max_energy},variant:"blue"})]}})}}),o(M,{get children(){return o(b,{get when(){return n()},get children(){return[o(w,{get class(){return m.row},get children(){return[(()=>{var t=E();return _(t,()=>{var a;return(a=r.initData.user)==null?void 0:a.username}),l(()=>u(t,m.username)),t})(),(()=>{var t=E();return l(()=>u(t,m.avatar)),t})()]}}),o(z,{min:1,value:1,max:12,variant:"yellow"})]}})}})]}})};function fe(r,{ease:n=a=>a,duration:t=100}){const[a,e]=X(r());let s,i,v,d;function f(C){const p=C-s;p<t?(e(i+n(p/t)*v),d=requestAnimationFrame(f)):e(r())}return Y(j(r,()=>{s=performance.now(),i=a(),v=r()-i,d=requestAnimationFrame(f),G(()=>cancelAnimationFrame(d))},{defer:!0})),a}const pe=()=>{const{store:r}=h,n=fe(()=>r.coins||0,{duration:250}),t=()=>Math.round(n());return{formattedCoinBalance:()=>O(t()),coinBalanceFontSize:()=>`${56-2*Math.log10(r.coins||1)}px`}},$e="/daisy-frontend/assets/dz_64x64_3x-DKj55EYD.png",we="_container_11uui_6",Ce="_text_11uui_14",S={container:we,text:Ce};var ye=c("<img draggable=false width=64 height=64>"),be=c("<div>");const xe=()=>{const{formattedCoinBalance:r,coinBalanceFontSize:n}=pe();return o(w,{get class(){return S.container},get children(){return[(()=>{var t=ye();return g(t,"src",$e),t})(),(()=>{var t=be();return _(t,r),l(a=>{var e=S.text,s=n();return e!==a.e&&u(t,a.e=e),s!==a.t&&((a.t=s)!=null?t.style.setProperty("font-size",s):t.style.removeProperty("font-size")),a},{e:void 0,t:void 0}),t})()]}})},Le="data:image/svg+xml,%3csvg%20width='280'%20height='281'%20viewBox='0%200%20280%20281'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M171.411%20213.83C194.798%20295.994%20125.002%20306.287%20129.41%20218.549C108.104%20304.082%2041.9824%20273.201%2091.941%20201.829C30.2274%20265.113%20-14.5887%20209.234%2068.2457%20169.653C-22.6703%20189.381%20-21.2009%20121.004%2063.4161%20128.355C-23.405%20104.093%202.30917%2044.5373%2079.0779%2091.5925C19.9417%2025.4207%2067.8202%20-8.21643%20111.043%2066.5939C89.7372%20-22.3707%20156.594%20-20.1658%20151.451%2061.2743C174.227%20-17.9601%20235.94%201.15741%20189.917%2076.8875C246.961%2017.333%20291.042%2068.8007%20215.554%20110.586C298.389%2087.182%20302.797%20154.09%20220.491%20151.148C302.797%20169.653%20275.614%20234.968%20204.149%20189.381C260.92%20250.408%20215.554%20287.906%20171.411%20213.83Z'%20fill='white'/%3e%3ccircle%20cx='140.787'%20cy='140.803'%20r='28.3146'%20fill='%23FFD600'/%3e%3c/svg%3e",Fe="_daisy_14p8a_6",Ie="_particle_14p8a_19",k={daisy:Fe,particle:Ie,"float-and-fade":"_float-and-fade_14p8a_1","particle-text":"_particle-text_14p8a_26"};var ke=c("<img draggable=false width=280 height=280>");const U=(r,n,t)=>{const a=document.createElement("div");a.classList.add(k["particle-text"]),a.textContent=`+${t}`;const e=document.createElement("div");e.classList.add(k.particle),e.style.position="absolute",e.style.left=`${r}px`,e.style.top=`${n}px`,e.addEventListener("animationend",e.remove),e.appendChild(a),document.body.appendChild(e)},Be=()=>{const{store:r,tap:n}=h,t=e=>{r.coins_per_tap&&(U(e.clientX,e.clientY,r.coins_per_tap),n())},a=e=>{if(e.preventDefault(),r.coins_per_tap){for(const s of e.changedTouches)U(s.clientX,s.clientY,r.coins_per_tap);n()}};return(()=>{var e=ke();return e.$$touchend=a,e.$$mouseup=t,g(e,"src",Le),l(()=>u(e,k.daisy)),e})()};N(["mouseup","touchend"]);const De="/daisy-frontend/assets/farm_48x46.76_3x-PHbG5kdH.png",Pe="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_33_9114)'%3e%3cpath%20d='M14%2028C21.6589%2028%2028%2021.6451%2028%2014C28%206.34117%2021.6451%200%2013.9863%200C6.34117%200%200%206.34117%200%2014C0%2021.6451%206.35489%2028%2014%2028Z'%20fill='black'%20fill-opacity='0.04'/%3e%3cpath%20opacity='0.5'%20d='M9.17282%2020C8.51489%2020%208%2019.4702%208%2018.8115C8%2018.4964%208.11441%2018.1957%208.34326%2017.9808L12.3051%2014L8.34326%2010.0334C8.11441%209.8043%208%209.51789%208%209.20286C8%208.52982%208.51489%208.02864%209.17282%208.02864C9.50178%208.02864%209.75923%208.14319%209.98807%208.35799L13.9785%2012.3389L17.9976%208.34367C18.2407%208.10024%2018.4982%208%2018.8128%208C19.4707%208%2020%208.51551%2020%209.17422C20%209.50358%2019.8998%209.76133%2019.6423%2010.0191L15.6663%2014L19.6281%2017.9666C19.8713%2018.1814%2019.9856%2018.482%2019.9856%2018.8115C19.9856%2019.4702%2019.4565%2020%2018.7842%2020C18.4553%2020%2018.1549%2019.8855%2017.9403%2019.6563L13.9785%2015.6754L10.031%2019.6563C9.80214%2019.8855%209.50178%2020%209.17282%2020Z'%20fill='black'%20fill-opacity='0.8'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_33_9114'%3e%3crect%20width='28'%20height='28'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Me="_overlay_1w6sy_1",ze="_drawer_1w6sy_16",Ee="_closeIcon_1w6sy_23",L={overlay:Me,drawer:ze,closeIcon:Ee};var Se=c("<img draggable=false width=28 height=28>"),Ue=c("<div>");const Z=r=>{const[n,t]=W(r,["children","onClose","class","classList"]);return(()=>{var a=Ue();return a.$$click=()=>n.onClose(),_(a,o(B,J(t,{onClick:e=>e.stopPropagation(),get classList(){return{[L.drawer]:!0,...n.class?{[n.class]:!0}:{},...n.classList??{}}},get children(){return[(()=>{var e=Se();return e.$$click=()=>n.onClose(),g(e,"src",Pe),l(()=>u(e,L.closeIcon)),e})(),K(()=>n.children)]}}))),l(()=>u(a,L.overlay)),a})()};N(["click"]);const qe="/daisy-frontend/assets/farm_82.13x80_3x-DUl_NfRy.png",He="_container_1a46d_6",Re="_textContainer_1a46d_18",Te="_title_1a46d_23",Ae="_subtitle_1a46d_33",Ne="_chevronLabel_1a46d_42",$={container:He,textContainer:Re,title:Te,subtitle:Ae,chevronLabel:Ne};var Ze=c("<img draggable=false>"),Xe=c("<div><div></div><div> lvl"),q=c("<img draggable=false width=24 height=24>"),Ye=c("<div>");const je=r=>{const{store:n}=h,t=()=>n.upgrades.find(({id:e})=>e===r.id),a=x();return o(w,{get class(){return $.container},onClick:()=>a(`/grow/farm/${t().id}`),get children(){return[(()=>{var e=Ze();return l(s=>{var i=t().iconWidth,v=t().iconHeight,d=t().icon;return i!==s.e&&g(e,"width",s.e=i),v!==s.t&&g(e,"height",s.t=v),d!==s.a&&g(e,"src",s.a=d),s},{e:void 0,t:void 0,a:void 0}),e})(),(()=>{var e=Xe(),s=e.firstChild,i=s.nextSibling,v=i.firstChild;return _(s,()=>t().title),_(i,()=>t().level,v),l(d=>{var f=$.textContainer,C=$.title,p=$.subtitle;return f!==d.e&&u(e,d.e=f),C!==d.t&&u(s,d.t=C),p!==d.a&&u(i,d.a=p),d},{e:void 0,t:void 0,a:void 0}),e})(),(()=>{var e=q();return g(e,"src",Q),e})(),(()=>{var e=Ye();return _(e,()=>t().cost),l(()=>u(e,$.chevronLabel)),e})(),(()=>{var e=q();return g(e,"src",ee),e})()]}})},Ge="_title_luqgg_6",We="_subtitle_luqgg_16",H={title:Ge,subtitle:We};var Je=c("<img draggable=false width=82.13 height=80>"),R=c("<div>");const T={title:"Farm",subtitle:"How a farm works"},Ke=()=>{const{store:r}=h;return[(()=>{var n=Je();return g(n,"src",qe),n})(),(()=>{var n=R();return _(n,()=>T.title),l(()=>u(n,H.title)),n})(),(()=>{var n=R();return _(n,()=>T.subtitle),l(()=>u(n,H.subtitle)),n})(),o(V,{get each(){return r.upgrades},children:n=>o(je,n)})]},Ve=()=>{const r=x();return o(Z,{onClose:()=>r("/grow"),get children(){return o(Ke,{})}})},Oe="_foo_1eak3_6",F={foo:Oe};var Qe=c("<img draggable=false>"),I=c("<div>");const et=r=>{const{store:n}=h,t=()=>n.upgrades.find(({id:e})=>e===r.id),a=x();return o(Z,{onClose:()=>a("/grow/farm/"),get children(){return[(()=>{var e=Qe();return l(s=>{var i=t().imageWidth,v=t().imageHeight,d=t().image;return i!==s.e&&g(e,"width",s.e=i),v!==s.t&&g(e,"height",s.t=v),d!==s.a&&g(e,"src",s.a=d),s},{e:void 0,t:void 0,a:void 0}),e})(),(()=>{var e=I();return _(e,()=>t().title),l(()=>u(e,F.title)),e})(),(()=>{var e=I();return _(e,()=>t().description),l(()=>u(e,F.description)),e})(),(()=>{var e=I();return _(e,()=>t().effect),l(()=>u(e,F.effect)),e})()]}})},tt="_button_1mo88_1",rt="_label_1mo88_11",A={button:tt,label:rt};var nt=c("<img draggable=false width=48 height=46.76>"),at=c("<div>");const st={label:"Farm"},ot=()=>{const r=x(),n=()=>r("/grow/farm"),t=P(()=>"/daisy-frontend/grow/farm"),a=P(()=>"/daisy-frontend/grow/farm/:upgrade");return[o(B,{get class(){return A.button},onClick:n,get children(){return[(()=>{var e=nt();return g(e,"src",De),e})(),(()=>{var e=at();return _(e,()=>st.label),l(()=>u(e,A.label)),e})()]}}),o(b,{get when(){return!!t()},get children(){return o(Ve,{})}}),o(b,{get when(){return!!a()},get children(){return o(et,{get id(){return a().params.upgrade}})}})]},dt=()=>[o(he,{}),o(xe,{}),o(Be,{}),o(ot,{})];export{dt as default};
