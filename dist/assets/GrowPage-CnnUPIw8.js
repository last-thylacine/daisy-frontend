import{c as l,C as y,a as i,d as F,t as c,S as I,R as $,s as d,i as u,b as o,e as T,f as U,o as Z,g as q,h as j,j as N,m as X,k as w,F as Y}from"./index-C_QBWVbJ.js";import{a as p,f as G,d as J}from"./app-C-UFkif2.js";import{c as K}from"./chevron_right_24-DzArCaY4.js";const V="/daisy-frontend/assets/energy_19.02x24-BJ5CZXmv.png",W="_chip_10qn9_1",O={chip:W},P=r=>l(y,{get class(){return O.chip},get children(){return r.children}}),Q="_bar_d1p4m_6",ee="_progress_d1p4m_6",te="_blue_d1p4m_15",re="_yellow_d1p4m_18",f={bar:Q,progress:ee,blue:te,yellow:re};var ne=c("<div><div>");const k=r=>{const n=()=>{const e=r.max-r.min,a=r.value-r.min;return Math.floor(a/e)};return(()=>{var e=ne(),a=e.firstChild;return i(t=>{var s={[f.bar]:!0,[f[r.variant]]:!0},_=`${n()}%`,g={[f.progress]:!0,[f[r.variant]]:!0};return t.e=F(e,s,t.e),_!==t.t&&((t.t=_)!=null?a.style.setProperty("width",_):a.style.removeProperty("width")),t.a=F(a,g,t.a),t},{e:void 0,t:void 0,a:void 0}),e})()},ae="_container_wuddg_6",se="_row_wuddg_15",le="_energy_wuddg_21",ce="_username_wuddg_21",oe="_avatar_wuddg_31",m={container:ae,row:se,energy:le,username:ce,avatar:oe};var ie=c("<img draggable=false width=19.02 height=24>"),de=c("<div>/"),B=c("<div>");const ue=()=>{const{store:r}=p,n=()=>r.energy!==null&&r.max_energy!==null;return l($,{get class(){return m.container},get children(){return[l(P,{get children(){return l(I,{get when(){return n()},get children(){return[l($,{get class(){return m.row},get children(){return[(()=>{var e=ie();return d(e,"src",V),e})(),(()=>{var e=de(),a=e.firstChild;return u(e,()=>r.energy,a),u(e,()=>r.max_energy,null),i(()=>o(e,m.energy)),e})()]}}),l(k,{min:0,get value(){return r.energy},get max(){return r.max_energy},variant:"blue"})]}})}}),l(P,{get children(){return l(I,{get when(){return n()},get children(){return[l($,{get class(){return m.row},get children(){return[(()=>{var e=B();return u(e,()=>{var a;return(a=r.initData.user)==null?void 0:a.username}),i(()=>o(e,m.username)),e})(),(()=>{var e=B();return i(()=>o(e,m.avatar)),e})()]}}),l(k,{min:1,value:1,max:12,variant:"yellow"})]}})}})]}})};function _e(r,{ease:n=a=>a,duration:e=100}){const[a,t]=T(r());let s,_,g,v;function x(H){const L=H-s;L<e?(t(_+n(L/e)*g),v=requestAnimationFrame(x)):t(r())}return U(Z(r,()=>{s=performance.now(),_=a(),g=r()-_,v=requestAnimationFrame(x),q(()=>cancelAnimationFrame(v))},{defer:!0})),a}const ge=()=>{const{store:r}=p,n=_e(()=>r.coins||0,{duration:250}),e=()=>Math.round(n());return{formattedCoinBalance:()=>G(e()),coinBalanceFontSize:()=>`${56-2*Math.log10(r.coins||1)}px`}},ve="/daisy-frontend/assets/dz_64x64_3x-DKj55EYD.png",me="_container_11uui_6",he="_text_11uui_14",D={container:me,text:he};var $e=c("<img draggable=false width=64 height=64>"),fe=c("<div>");const pe=()=>{const{formattedCoinBalance:r,coinBalanceFontSize:n}=ge();return l($,{get class(){return D.container},get children(){return[(()=>{var e=$e();return d(e,"src",ve),e})(),(()=>{var e=fe();return u(e,r),i(a=>{var t=D.text,s=n();return t!==a.e&&o(e,a.e=t),s!==a.t&&((a.t=s)!=null?e.style.setProperty("font-size",s):e.style.removeProperty("font-size")),a},{e:void 0,t:void 0}),e})()]}})},Ce="data:image/svg+xml,%3csvg%20width='280'%20height='281'%20viewBox='0%200%20280%20281'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M171.411%20213.83C194.798%20295.994%20125.002%20306.287%20129.41%20218.549C108.104%20304.082%2041.9824%20273.201%2091.941%20201.829C30.2274%20265.113%20-14.5887%20209.234%2068.2457%20169.653C-22.6703%20189.381%20-21.2009%20121.004%2063.4161%20128.355C-23.405%20104.093%202.30917%2044.5373%2079.0779%2091.5925C19.9417%2025.4207%2067.8202%20-8.21643%20111.043%2066.5939C89.7372%20-22.3707%20156.594%20-20.1658%20151.451%2061.2743C174.227%20-17.9601%20235.94%201.15741%20189.917%2076.8875C246.961%2017.333%20291.042%2068.8007%20215.554%20110.586C298.389%2087.182%20302.797%20154.09%20220.491%20151.148C302.797%20169.653%20275.614%20234.968%20204.149%20189.381C260.92%20250.408%20215.554%20287.906%20171.411%20213.83Z'%20fill='white'/%3e%3ccircle%20cx='140.787'%20cy='140.803'%20r='28.3146'%20fill='%23FFD600'/%3e%3c/svg%3e",we="_daisy_14p8a_6",be="_particle_14p8a_19",b={daisy:we,particle:be,"float-and-fade":"_float-and-fade_14p8a_1","particle-text":"_particle-text_14p8a_26"};var ye=c("<img draggable=false width=280 height=280>");const z=(r,n,e)=>{const a=document.createElement("div");a.classList.add(b["particle-text"]),a.textContent=`+${e}`;const t=document.createElement("div");t.classList.add(b.particle),t.style.position="absolute",t.style.left=`${r}px`,t.style.top=`${n}px`,t.addEventListener("animationend",t.remove),t.appendChild(a),document.body.appendChild(t)},xe=()=>{const{store:r,tap:n}=p,e=t=>{r.coins_per_tap&&(z(t.clientX,t.clientY,r.coins_per_tap),n())},a=t=>{if(t.preventDefault(),r.coins_per_tap){for(const s of t.changedTouches)z(s.clientX,s.clientY,r.coins_per_tap);n()}};return(()=>{var t=ye();return t.$$touchend=a,t.$$mouseup=e,d(t,"src",Ce),i(()=>o(t,b.daisy)),t})()};j(["mouseup","touchend"]);const Le="/daisy-frontend/assets/farm_48x46.76_3x-PHbG5kdH.png",Fe="/daisy-frontend/assets/farm_82.13x80_3x-DUl_NfRy.png",Ie="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_33_9114)'%3e%3cpath%20d='M14%2028C21.6589%2028%2028%2021.6451%2028%2014C28%206.34117%2021.6451%200%2013.9863%200C6.34117%200%200%206.34117%200%2014C0%2021.6451%206.35489%2028%2014%2028Z'%20fill='black'%20fill-opacity='0.04'/%3e%3cpath%20opacity='0.5'%20d='M9.17282%2020C8.51489%2020%208%2019.4702%208%2018.8115C8%2018.4964%208.11441%2018.1957%208.34326%2017.9808L12.3051%2014L8.34326%2010.0334C8.11441%209.8043%208%209.51789%208%209.20286C8%208.52982%208.51489%208.02864%209.17282%208.02864C9.50178%208.02864%209.75923%208.14319%209.98807%208.35799L13.9785%2012.3389L17.9976%208.34367C18.2407%208.10024%2018.4982%208%2018.8128%208C19.4707%208%2020%208.51551%2020%209.17422C20%209.50358%2019.8998%209.76133%2019.6423%2010.0191L15.6663%2014L19.6281%2017.9666C19.8713%2018.1814%2019.9856%2018.482%2019.9856%2018.8115C19.9856%2019.4702%2019.4565%2020%2018.7842%2020C18.4553%2020%2018.1549%2019.8855%2017.9403%2019.6563L13.9785%2015.6754L10.031%2019.6563C9.80214%2019.8855%209.50178%2020%209.17282%2020Z'%20fill='black'%20fill-opacity='0.8'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_33_9114'%3e%3crect%20width='28'%20height='28'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Pe="_overlay_1w6sy_1",ke="_drawer_1w6sy_16",Be="_closeIcon_1w6sy_23",C={overlay:Pe,drawer:ke,closeIcon:Be};var De=c("<img draggable=false width=28 height=28>"),ze=c("<div>");const Ee=r=>{const[n,e]=N(r,["children","onClose","class","classList"]);return(()=>{var a=ze();return a.$$click=()=>n.onClose(),u(a,l(y,X(e,{onClick:t=>t.stopPropagation(),get classList(){return{[C.drawer]:!0,...n.class?{[n.class]:!0}:{},...n.classList??{}}},get children(){return[(()=>{var t=De();return t.$$click=()=>n.onClose(),d(t,"src",Ie),i(()=>o(t,C.closeIcon)),t})(),w(()=>n.children)]}}))),i(()=>o(a,C.overlay)),a})()};j(["click"]);const Me="_container_1a46d_6",Se="_textContainer_1a46d_18",Ae="_title_1a46d_23",Re="_subtitle_1a46d_33",Te="_chevronLabel_1a46d_42",h={container:Me,textContainer:Se,title:Ae,subtitle:Re,chevronLabel:Te};var je=c("<img draggable=false>"),He=c("<div><div></div><div> lvl"),E=c("<img draggable=false width=24 height=24>"),Ue=c("<div>");const Ze=r=>l($,{get class(){return h.container},get children(){return[(()=>{var n=je();return i(e=>{var a=r.iconWidth,t=r.iconHeight,s=r.icon;return a!==e.e&&d(n,"width",e.e=a),t!==e.t&&d(n,"height",e.t=t),s!==e.a&&d(n,"src",e.a=s),e},{e:void 0,t:void 0,a:void 0}),n})(),(()=>{var n=He(),e=n.firstChild,a=e.nextSibling,t=a.firstChild;return u(e,()=>r.name),u(a,()=>r.level,t),i(s=>{var _=h.textContainer,g=h.title,v=h.subtitle;return _!==s.e&&o(n,s.e=_),g!==s.t&&o(e,s.t=g),v!==s.a&&o(a,s.a=v),s},{e:void 0,t:void 0,a:void 0}),n})(),(()=>{var n=E();return d(n,"src",J),n})(),(()=>{var n=Ue();return u(n,()=>r.cost),i(()=>o(n,h.chevronLabel)),n})(),(()=>{var n=E();return d(n,"src",K),n})()]}}),qe="_title_1ji7f_1",Ne="_subtitle_1ji7f_11",M={title:qe,subtitle:Ne};var Xe=c("<img draggable=false width=82.13 height=80>"),S=c("<div>");const A={title:"Farm",subtitle:"How a farm works"},Ye=r=>{const{store:n}=p;return l(Ee,{get onClose(){return r.onClose},get children(){return[(()=>{var e=Xe();return d(e,"src",Fe),e})(),(()=>{var e=S();return u(e,()=>A.title),i(()=>o(e,M.title)),e})(),(()=>{var e=S();return u(e,()=>A.subtitle),i(()=>o(e,M.subtitle)),e})(),l(Y,{get each(){return n.upgrades},children:e=>l(Ze,e)})]}})},Ge="_button_1mo88_1",Je="_label_1mo88_11",R={button:Ge,label:Je};var Ke=c("<img draggable=false width=48 height=46.76>"),Ve=c("<div>");const We={label:"Farm"},Oe=()=>{const[r,n]=T(!1);return[l(y,{get class(){return R.button},onClick:()=>n(!0),get children(){return[(()=>{var e=Ke();return d(e,"src",Le),e})(),(()=>{var e=Ve();return u(e,()=>We.label),i(()=>o(e,R.label)),e})()]}}),w(()=>w(()=>!!r())()&&l(Ye,{onClose:()=>n(!1)}))]},rt=()=>[l(ue,{}),l(pe,{}),l(xe,{}),l(Oe,{})];export{rt as default};
